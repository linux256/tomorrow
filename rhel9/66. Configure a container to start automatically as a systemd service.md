\newpage

## MANAGE CONTAINERS
# 66. Configure a container to start automatically a a systemd service

---

### I. GENERAR UN SERVICIO PARA CORRER UN CONTENEDOR ROOTLESS [EX200]

**`loginctl enable-linger student`**

> Permite que los servicios del usuario `student` sea persistentes de manera que
se inicien en el arranque del sistema o *boot*. De otra manera se iniciarían
cuando `student` hiciera *login*

**`mkdir ~/.config/systemd/user && cd $_ `**

> Crea el directorio para generar el *unit file* del servicio, y se cambia

**`podman generate systemd  --name nameCont --file`**

> Genera *unit file* de servicio para el contenedor `nameCont` y lo guarda en 
fichero (`--file`) dentro del directorio `~/.config/systemd/user/` que debe
existir previamente

>

### II. OPERAR EL SERVICIO EN EL NAMESPACE DE USUARIO

`systemctl --user comando`

> Ejecuta comando de `systemctl` en el *namespace* del usuario

`systemctl --user start miservicio.servicio`

> Inicia el servicio `miservicio` en el *namespace* del usuario

**`systemctl --user enable container-nameCont.service`**

> Habilita el servicio `container-nameCont` en el *namespace* del usuario para
el que previamente se habilitó la persistencia de sus servicios, iniciándose en
el inicio del sistema.


