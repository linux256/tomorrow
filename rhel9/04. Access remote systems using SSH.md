\newpage

## UNDERSTAND AND USE ESSENTIAL TOOLS
# 04. Access remote systems using SSH

---

### I. SSH (Secure Shell) CONFIGURACION CLIENTE

`ssh -p 22 user@192.168.0.12`

> Inicia sesión SSH con usuario "user" en host "192.168.0.12" en el puerto "22"

`ssh -v`

> Muestra por pantalla mensajes, con mas detalle (`-vv`), máximo (`-vvv`)

`ssh -Y user@host_remoto`

> Inicia sesión SSH permitiendo que el servidor remoto pueda mostrar gráficos
> en el equipo local

`~/.ssh/config`

> Fichero de configuración personalizado del cliente SSH (es el siguiente origen
> de prioridad de las opciones, despues de los parámetros pasados al comando)

`/etc/ssh/ssh_config`

> Fichero de configuración general del cliente SSH (tercera fuente de opciones).
> Si incluye la línea `ForwardX11  yes` se habilita X11 Forwarding por defecto

**`man 5 ssh_config`**

> Ayuda en detalle de los parámetros `ssh_config`

## II. REGISTRO DE CLAVES PUBLICAS DE HOST CONFIABLES. KNOWN_HOSTS

`/etc/ssh/ssh_known_hosts`

> Registro general, para todos los usuarios, de claves de servidores confiables.
> Preparado por el administrador (root) para todos los servidores de la red,
> debe ser leible por el grupo "otros" para que los usuarios puedan leerlo

`~/.ssh/known_hosts`

> Claves públicas de host SSH remotos en los que se confía

`ssh-keygen -F 192.168.0.12`

> Muestras las claves públicas del host remoto 192.168.0.12 de `known_hosts`

`ssh-keygen -R 192.168.0.12`

> Elimina claves públicas del host remoto 192.168.0.12 de `known_hosts`

`sed -i '/192.168.0.12/d' ~/.ssh/known_hosts`

---

*Referencias*

**FICHEROS DE INICIO DE USUARIO EN EL SERVIDOR REMOTO**

`~/.ssh/rc`

> Fichero ubicado en el servidor remoto, que recoge comandos se ejecutan cuando
> el usuario hace login en el servidor remoto, antes de iniciar su shell.
> No debe producir salida en STDOUT y se debe usar STDERR. Además de existir
> el fichero, debe estar habilitado el parámetro `PermitUserRC`. En otro caso
> se ejecutan los comandos RC generales

`/etc/ssh/sshrc`

> Fichero RC general en host remoto, ejecutado en el caso de que no exista el
> fichero personalizado `~/.ssh/rc` o que no esté habilitado `PermitUserRC`


